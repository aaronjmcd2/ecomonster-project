EcoMonster Project â€” Code Overview Summary (as of Refactor Phase 3)
====================================================================

ğŸ§© Core Principles
------------------
- Single Responsibility per script
- Shared concerns now refactored into helper modules
- Scripts remain focused while logic is modularized
- Creature behaviors are cleanly separated
- Rolling averages and efficiency now use shared modules

ğŸ“‚ Project Structure
--------------------
- Monsters/         â†’ FireElemental.gd, CoalWorm.gd, Dragon.gd
- Modules/          â†’ SearchModule.gd, ConversionModule.gd, InventoryData.gd, EfficiencyTracker.gd, RollingStatTracker.gd
- UI/               â†’ InventoryUI, InventorySlot.gd, MonsterInfoPopup.gd, SearchRadiusDisplay.gd
- Systems/          â†’ Main.gd (entry point, sets up inventory and hotbar)

ğŸ” Creature Scripts
-------------------
1. FireElemental.gd
   - Searches for coal tiles
   - Converts coal to lava via ConversionModule
   - Wanders when idle or on cooldown
   - Tracks efficiency and Lava/min using shared modules

2. CoalWorm.gd
   - Searches for unclaimed ore drops
   - Converts tile under or nearby into coal
   - Tracks efficiency and Coal/min using shared modules

3. Dragon.gd
   - Searches for lava, consumes it
   - Replaces lava with soil
   - Excretes ore after cooldown
   - Tracks efficiency and Ore/min using shared modules
   - Wanders while digesting

ğŸ§  Shared Modules (Autoloaded or Preloaded)
-------------------------------------------
- SearchModule.gd
  â†’ `find_closest_ore_drop()` for CoalWorms
  â†’ `find_nearest_tile()` for FireElemental and Dragon

- ConversionModule.gd
  â†’ `convert_tile()` handles ore-to-coal (via soil)
  â†’ `replace_tile()` replaces one tile type with another

- InventoryData.gd (class_name InventoryData)
  â†’ Manages inventory grid, hotbar index
  â†’ Handles stack movement and item drops

- EfficiencyTracker.gd
  â†’ Handles score-based efficiency tracking (0â€“100%)

- RollingStatTracker.gd
  â†’ Tracks rolling averages over time (e.g., Coal/min, Lava/min, Ore/min)

ğŸ¨ UI Scripts
-------------
- InventorySlot.gd
  â†’ Drag/drop, stack merging, right-click drop
  â†’ Uses icon and count_label for visuals

- MonsterInfoPopup.gd
  â†’ Displays creature info on click
  â†’ Updates in real time via `get_live_stats()`
  â†’ Shows/hides SearchRadiusDisplay

- SearchRadiusDisplay.gd
  â†’ Draws a toggleable circle around creatures

ğŸ—ºï¸ Main.gd
-----------
- Waits for nodes to load
- Sets up inventory grid and hotbar with test items
- Toggles inventory visibility on keybind

âœ… Everything is:
- Modular and scalable
- Documented and consistent
- Live-updating and performance-aware
- Ready for ongoing development and future polish